import{u as c,r as m,j as e,a as p}from"./iframe-D5evrB1t.js";import{B as u}from"./Button-DTif8qqZ.js";import"./preload-helper-D9Z9MdNV.js";import"./index-SGlD7ZDG.js";import"./cn-BQ1woUC9.js";import"./Icon-BVdV1tcm.js";import"./createLucideIcon-CYL-vWIR.js";import"./play-CTq2X17R.js";import"./user-MOkHRdz7.js";import"./users-CaUii9q0.js";import"./message-square-DKF1MyHe.js";import"./star-C9rq_WCT.js";import"./plus-BIwiTHae.js";import"./eye-BeouNTFJ.js";import"./database-Bh5bi1zG.js";import"./file-text-BR3Iz2MY.js";import"./triangle-alert-Bin-rNB-.js";import"./trash-2-CKY6oqXC.js";import"./x-CyT8dDxu.js";import"./search-DrQCx2FU.js";import"./house-C64cIi8I.js";import"./settings-DU1kDWgt.js";const n=({className:a=""})=>{const{data:s,status:l}=c(),[i,o]=m.useState(!1);if(l==="loading")return e.jsx("div",{className:`flex items-center ${a}`,children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 animate-pulse"})});if(!s?.user)return e.jsx("div",{className:`flex items-center ${a}`,children:e.jsx(u,{variant:"default",size:"sm",onClick:()=>window.location.href="/api/auth/signin",children:"Sign In"})});const d=s.user.name?.[0]||s.user.email?.[0]||"?";return e.jsxs("div",{className:`relative ${a}`,children:[e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-medium",children:d.toUpperCase()}),e.jsx("span",{className:"hidden md:block text-gray-700",children:s.user.name||s.user.email}),e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),e.jsx("div",{className:"absolute right-0 z-20 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b",children:[e.jsx("div",{className:"font-medium",children:s.user.name}),e.jsx("div",{className:"text-gray-500",children:s.user.email})]}),e.jsx("a",{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),e.jsx("a",{href:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Dashboard"}),e.jsx("hr",{className:"my-1"}),e.jsx("button",{onClick:()=>{p({callbackUrl:"/"}).then(()=>{typeof window<"u"&&window.__STORYBOOK_PREVIEW__&&console.log("[Storybook] Sign out simulated from UserMenu")})},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})})]})]})};n.__docgenInfo={description:"",methods:[],displayName:"UserMenu",props:{className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};const R={title:"Molecules/UserMenu",component:n,parameters:{layout:"centered"}},r={args:{},parameters:{}},t={args:{},parameters:{}};r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:`{
  args: {},
  parameters: {
    // Mock session is already provided by the MockSessionProvider in preview
  }
}`,...r.parameters?.docs?.source}}};t.parameters={...t.parameters,docs:{...t.parameters?.docs,source:{originalSource:`{
  args: {},
  parameters: {
    // To simulate loading state, we'd need to override the session provider
    // For now, this will show the authenticated state
  }
}`,...t.parameters?.docs?.source}}};const T=["Authenticated","Loading"];export{r as Authenticated,t as Loading,T as __namedExportsOrder,R as default};
