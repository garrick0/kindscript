import{u as j,r,s as f,a as w,h as e,H as t}from"./iframe-D5evrB1t.js";function R(){const{data:s,status:u}=j(),[c,a]=r.useState(null),[d,n]=r.useState(!1),g=r.useCallback(async(o,i)=>{n(!0),a(null);try{const l=await f("credentials",{email:o,password:i,redirect:!1});l?.error&&a({message:"Invalid email or password",code:l.error})}catch{a({message:"An error occurred during login",code:"UNKNOWN_ERROR"})}finally{n(!1)}},[]),p=r.useCallback(async o=>{n(!0),a(null);try{const i=await f(o,{redirect:!1});i?.error&&a({message:`Failed to sign in with ${o}`,code:i.error})}catch{a({message:`An error occurred signing in with ${o}`,code:"PROVIDER_ERROR"})}finally{n(!1)}},[]),m=r.useCallback(async()=>{n(!0);try{await w({redirect:!1})}finally{n(!1)}},[]),h=r.useCallback(()=>{a(null)},[]);return r.useMemo(()=>({user:s?.user||null,loading:u==="loading",error:c,isAuthenticated:!!s?.user,session:s,login:g,loginWithProvider:p,logout:m,clearError:h,isLoading:u==="loading"||d}),[s,u,c,d,g,p,m,h])}e.get("/api/documents",()=>t.json({error:"Failed to fetch documents"},{status:500})),e.get("/api/releases",()=>t.json({error:"Failed to fetch releases"},{status:500})),e.get("/api/settings/:userId",()=>t.json({error:"Failed to fetch settings"},{status:500})),e.get("/api/dashboard",()=>t.json({error:"Failed to fetch dashboard data"},{status:500}));const y=[e.get("/api/documents",async()=>(await new Promise(s=>setTimeout(s,2e3)),t.json([]))),e.get("/api/releases",async()=>(await new Promise(s=>setTimeout(s,2e3)),t.json([]))),e.get("/api/settings/:userId",async()=>(await new Promise(s=>setTimeout(s,2e3)),t.json({}))),e.get("/api/dashboard",async()=>(await new Promise(s=>setTimeout(s,2e3)),t.json({stats:[],recentActivity:[]})))];e.get("/api/documents",()=>t.json([])),e.get("/api/releases",()=>t.json([])),e.get("/api/dashboard/activity",()=>t.json([])),e.get("/api/dashboard/quick-actions",()=>t.json([])),e.get("/api/dashboard/notifications",()=>t.json([]));e.get("/api/dashboard/stats",()=>t.json({documents:42,releases:3,pages:8,workflows:5})),e.get("/api/dashboard/activity",()=>t.json([{id:"1",type:"document",action:"created document",target:"New Project Proposal",user:"John Doe",timestamp:new Date().toISOString()}])),e.get("/api/dashboard/quick-actions",()=>t.json([{id:"create-document",title:"Create Document",color:"blue"},{id:"generate-page",title:"Generate Page",color:"green"},{id:"start-workflow",title:"Start Workflow",color:"purple"}])),e.get("/api/dashboard/notifications",()=>t.json([]));e.get("/api/*",()=>t.error());const k=[e.get("/api/documents",()=>t.json([])),e.post("/api/documents",()=>t.json({id:"1",title:"New Document"}))],P=[e.get("/api/releases",()=>t.json([])),e.post("/api/releases",()=>t.json({id:"1",title:"New Release"}))],H=y,I=[e.get("/api/auth/session",()=>t.json({user:{name:"Test User",email:"test@example.com"}}))],E=[e.get("/api/settings/:userId",()=>t.json({theme:"light",notifications:!0}))];export{k as a,I as b,H as d,P as r,E as s,R as u};
