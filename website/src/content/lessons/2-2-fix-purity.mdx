# Challenge: Fix the Purity Violation

The domain layer imports `fs` directly — a Node.js I/O module. This violates the `pure: true` constraint on `DomainLayer`.

## Your task

Refactor `src/domain/service.ts` to use **dependency injection** instead of importing `fs` directly:

1. Define a `DataReader` interface in the domain layer
2. Accept the reader via the constructor
3. Call `this.reader.read(...)` instead of `fs.readFileSync(...)`

The domain defines *what* it needs (a `DataReader`). Infrastructure provides *how* (using `fs`).

## Verify your fix

```
npx ksc check .
```

You should see **0 violations**.

:::tip
**Ports and Adapters.** The `DataReader` interface is a *port* — a contract defined by the inner layer. An infrastructure adapter would implement it using `fs.readFileSync`. This is the Hexagonal Architecture pattern.
:::